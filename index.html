<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mystic Tarot</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- PDF generation libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- External CSS -->
    <link rel="stylesheet" href="/styles/index.css" />
</head>
<body>
    <!-- Animated Background Elements -->
    <div class="starry-bg" id="starry-bg"></div>
    <div class="mystical-mist"></div>
    <div class="crystal-ball top-1/4 left-1/4"></div>
    <div class="crystal-ball bottom-1/4 right-1/4"></div>
    <div class="particles" id="particles"></div>

    <!-- History Panel -->
    <div class="history-panel" id="historyPanel">
        <div class="history-header">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-cinzel text-purple-200">
                    <i class="fas fa-history mr-2"></i>Reading History
                </h2>
                <button id="closeHistory" class="text-purple-300 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="flex gap-2">
                <button id="clearHistory" class="mystical-btn px-4 py-2 text-sm">
                    <i class="fas fa-trash mr-1"></i> Clear History
                </button>
                <button id="saveHistory" class="mystical-btn px-4 py-2 text-sm bg-teal-700 border-teal-400">
                    <i class="fas fa-save mr-1"></i> Save Session
                </button>
            </div>
        </div>
        <div class="p-4 overflow-y-auto h-[calc(100vh-120px)]" id="historyList">
            <!-- History items will be added here -->
            <p class="text-center text-purple-300 py-8" id="emptyHistory">
                No readings yet. Draw your first card to begin!
            </p>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <div class="share-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-cinzel text-purple-200">
                        <i class="fas fa-share-alt mr-2"></i>Share Your Reading
                    </h3>
                    <button id="closeShare" class="text-purple-300 hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>

                <div class="bg-gray-800 rounded-xl p-4 mb-6">
                    <div class="flex items-center mb-3">
                        <div
                            class="bg-purple-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3"
                        >
                            <i class="fas fa-quote-left"></i>
                        </div>
                        <p class="font-playfair text-white" id="shareQuote"></p>
                    </div>
                    <p class="text-sm text-purple-300 italic" id="shareTimestamp"></p>
                </div>

                <div class="grid grid-cols-2 gap-3 mb-6">
                    <button id="copyTextBtn" class="social-share-btn bg-indigo-700">
                        <i class="fas fa-copy mr-2"></i> Copy Text
                    </button>
                    <button id="downloadImageBtn" class="social-share-btn bg-purple-700">
                        <i class="fas fa-download mr-2"></i> Save Image
                    </button>
                    <button id="twitterShare" class="social-share-btn bg-blue-500">
                        <i class="fab fa-twitter mr-2"></i> Twitter
                    </button>
                    <button id="facebookShare" class="social-share-btn bg-blue-700">
                        <i class="fab fa-facebook mr-2"></i> Facebook
                    </button>
                </div>

                <div class="bg-gray-900 rounded-lg p-4">
                    <p class="text-sm text-gray-400 mb-2">Shareable text:</p>
                    <div
                        class="bg-gray-800 p-3 rounded-lg text-sm font-mono text-gray-300 break-words"
                        id="shareText"
                    ></div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex-grow flex flex-col items-center justify-center py-10 px-4">
        <!-- Pre-reading Section -->
        <section id="preReading" class="w-full max-w-3xl text-center mb-14 fade-in">
            <!-- Header with icons in top-right corner -->
            <div class="main-header mb-8">
                <div class="header-center">
                    <h1 class="text-4xl md:text-5xl font-cinzel shimmer-text main-title">
                        Mystic Tarot
                    </h1>
                </div>
                <div class="header-right">
                    <button
                        id="historyButton"
                        class="text-purple-300 hover:text-white"
                        aria-label="View reading history"
                    >
                        <i class="fas fa-history text-2xl"></i>
                    </button>
                    <button
                        id="settingsButton"
                        class="text-purple-300 hover:text-white"
                        aria-label="Change settings"
                    >
                        <i class="fas fa-cog text-2xl"></i>
                    </button>
                </div>
            </div>

            <div class="bg-purple-900 bg-opacity-50 rounded-2xl p-8 mystical-border">
                <p class="font-playfair text-xl text-purple-100 mb-6">
                    <i class="fas fa-quote-left text-purple-300 mr-2"></i>
                    The tarot is a mirror that reflects the hidden aspects of your soul and the unseen forces shaping
                    your journey.
                    <i class="fas fa-quote-right text-purple-300 ml-2"></i>
                </p>

                <div class="flex justify-center my-8">
                    <div class="w-24 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"></div>
                </div>

                <!-- Theme Selection -->
                <div class="mb-6">
                    <h4 class="font-cinzel text-xl mb-4 text-purple-200">
                        Choose Your Deck Style
                    </h4>
                    <div class="flex flex-wrap justify-center gap-4">
                        <div
                            class="theme-option theme-1 active"
                            data-theme="1"
                            aria-label="Celestial deck theme"
                        >
                            <i class="fas fa-moon theme-icon"></i>
                            <div class="theme-name">Celestial</div>
                        </div>
                        <div class="theme-option theme-2" data-theme="2" aria-label="Nature deck theme">
                            <i class="fas fa-leaf theme-icon"></i>
                            <div class="theme-name">Nature</div>
                        </div>
                        <div class="theme-option theme-3" data-theme="3" aria-label="Solar deck theme">
                            <i class="fas fa-sun theme-icon"></i>
                            <div class="theme-name">Solar</div>
                        </div>
                        <div class="theme-option theme-4" data-theme="4" aria-label="Cosmic deck theme">
                            <i class="fas fa-star theme-icon"></i>
                            <div class="theme-name">Cosmic</div>
                        </div>
                    </div>
                </div>

                <button
                    id="startButton"
                    class="mystical-btn font-cinzel px-10 py-5 rounded-lg text-2xl hover:glow mt-4"
                    aria-label="Begin your tarot reading journey"
                >
                    Begin Your Journey <i class="fas fa-arrow-right ml-3"></i>
                </button>

                <!-- Preparing for Your Reading -->
                <div class="bg-indigo-900 bg-opacity-60 rounded-xl p-6 mt-8">
                    <h3 class="font-cinzel text-2xl mb-4 text-purple-200">
                        <i class="fas fa-lightbulb mr-2"></i>Preparing for Your Reading
                    </h3>
                    <p class="font-playfair text-lg text-purple-100">
                        Find a quiet space and take a few deep breaths. Focus your mind on a question or area of your
                        life you seek guidance for. When you're ready, enter your question below and draw your card.
                    </p>
                </div>
            </div>
        </section>

        <!-- Main Reading Section (initially hidden) -->
        <section
            id="readingSection"
            class="w-full max-w-4xl flex flex-col items-center hidden"
        >
            <!-- Navigation Header with icons in top-right corner -->
            <div class="main-header mb-8 w-full">
                <div class="header-left">
                    <button id="backButton" class="nav-btn">
                        <i class="fas fa-arrow-left mr-1"></i> Back Home
                    </button>
                </div>
                <div class="header-center">
                    <h1 class="text-4xl md:text-5xl font-cinzel shimmer-text main-title">
                        Mystic Tarot
                    </h1>
                </div>
                <div class="header-right">
                    <button id="changeDeckButton" class="nav-btn">
                        <i class="fas fa-sync-alt mr-1"></i> Change Deck
                    </button>
                    <button
                        id="historyButtonReading"
                        class="text-purple-300 hover:text-white"
                        aria-label="View reading history"
                    >
                        <i class="fas fa-history text-2xl"></i>
                    </button>
                    <button
                        id="settingsButtonReading"
                        class="text-purple-300 hover:text-white"
                        aria-label="Change settings"
                    >
                        <i class="fas fa-cog text-2xl"></i>
                    </button>
                </div>
            </div>

            <!-- User Question Input -->
            <div class="w-full max-w-xl mb-10 fade-in">
                <div class="relative">
                    <input
                        type="text"
                        id="userQuestion"
                        placeholder="What guidance do you seek today?"
                        class="question-input font-playfair w-full px-6 py-4 rounded-2xl text-lg focus:ring-0"
                        aria-label="Enter your question for the tarot reading"
                    />
                    <i
                        class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-purple-400"
                    ></i>
                </div>
                <p class="text-purple-300 text-sm mt-2 text-center font-playfair italic">
                    Your question will be remembered during this session
                </p>
            </div>

            <!-- Three Card Container -->
            <div class="three-card-container" id="threeCardContainer">
                <!-- Left Card -->
                <div class="card-wrapper left">
                    <div class="card-container">
                        <div class="tarot-card" id="leftCard">
                            <!-- Card Back -->
                            <div class="card-face card-back">
                                <div class="absolute inset-0 card-back-pattern"></div>
                                <div class="card-symbols">
                                    <div class="card-symbol top-6 left-6">♎</div>
                                    <div class="card-symbol top-6 right-6">♏</div>
                                    <div class="card-symbol bottom-6 left-6">♐</div>
                                    <div class="card-symbol bottom-6 right-6">♑</div>
                                    <div
                                        class="card-symbol top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl center-card-symbol"
                                    >☾</div>
                                </div>
                                <div class="absolute inset-4 flex flex-col items-center justify-center">
                                    <div
                                        class="w-24 h-24 rounded-full bg-yellow-200 flex items-center justify-center mb-6 floating"
                                    >
                                        <i class="fas fa-star text-5xl text-purple-800 card-icon"></i>
                                    </div>
                                    <h2 class="font-cinzel text-2xl text-yellow-200">Mystic Tarot</h2>
                                </div>
                                <div class="absolute inset-0 border-8 border-purple-300 rounded-2xl opacity-30"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Center Card -->
                <div class="card-wrapper center">
                    <div class="card-container" id="centerCardContainer">
                        <div class="tarot-card" id="centerCard">
                            <!-- Card Back -->
                            <div class="card-face card-back">
                                <div class="absolute inset-0 card-back-pattern"></div>
                                <div class="card-symbols">
                                    <div class="card-symbol top-6 left-6">♎</div>
                                    <div class="card-symbol top-6 right-6">♏</div>
                                    <div class="card-symbol bottom-6 left-6">♐</div>
                                    <div class="card-symbol bottom-6 right-6">♑</div>
                                    <div
                                        class="card-symbol top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl center-card-symbol"
                                    >☾</div>
                                </div>
                                <div class="absolute inset-4 flex flex-col items-center justify-center">
                                    <div class="w-24 h-24 rounded-full bg-yellow-200 flex items-center justify-center mb-6">
                                        <i class="fas fa-star text-5xl text-purple-800 card-icon"></i>
                                    </div>
                                    <h2 class="font-cinzel text-2xl text-yellow-200">Mystic Tarot</h2>
                                </div>
                                <div class="absolute inset-0 border-8 border-purple-300 rounded-2xl opacity-30"></div>
                            </div>

                            <!-- Card Front (will be populated when flipped) -->
                            <div class="card-face card-front p-6">
                                <div id="cardContent" class="flex flex-col items-center h-full">
                                    <!-- Content will be populated by JS -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Card -->
                <div class="card-wrapper right">
                    <div class="card-container">
                        <div class="tarot-card" id="rightCard">
                            <!-- Card Back -->
                            <div class="card-face card-back">
                                <div class="absolute inset-0 card-back-pattern"></div>
                                <div class="card-symbols">
                                    <div class="card-symbol top-6 left-6">♎</div>
                                    <div class="card-symbol top-6 right-6">♏</div>
                                    <div class="card-symbol bottom-6 left-6">♐</div>
                                    <div class="card-symbol bottom-6 right-6">♑</div>
                                    <div
                                        class="card-symbol top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl center-card-symbol"
                                    >☾</div>
                                </div>
                                <div class="absolute inset-4 flex flex-col items-center justify-center">
                                    <div
                                        class="w-24 h-24 rounded-full bg-yellow-200 flex items-center justify-center mb-6 floating"
                                    >
                                        <i class="fas fa-star text-5xl text-purple-800 card-icon"></i>
                                    </div>
                                    <h2 class="font-cinzel text-2xl text-yellow-200">Mystic Tarot</h2>
                                </div>
                                <div class="absolute inset-0 border-8 border-purple-300 rounded-2xl opacity-30"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Revealing Message -->
                <div id="revealingMessage" class="revealing-message hidden">
                    <div class="bg-indigo-900 bg-opacity-80 p-6 rounded-2xl border border-purple-500 shadow-lg">
                        <p class="font-cinzel text-2xl text-center text-purple-200">
                            <i class="fas fa-crystal mr-2"></i>
                            The universe is revealing your message...
                            <i class="fas fa-crystal ml-2"></i>
                        </p>
                    </div>
                </div>

                <!-- Swirl Animation Container -->
                <div id="swirlContainer"></div>
            </div>

            <!-- User Question Display -->
            <div id="questionDisplay" class="max-w-xl mb-0 text-center hidden fade-in">
                <p class="font-playfair text-xl text-purple-200">
                    <span class="text-purple-300 italic">Your question:</span>
                    <span id="displayedQuestion" class="font-semibold"></span>
                </p>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 mb-10 fade-in" id="buttonContainer">
                <button
                    id="drawButton"
                    class="mystical-btn font-cinzel px-8 py-4 rounded-lg text-xl hover:glow shuffle-animation"
                    aria-label="Draw a tarot card"
                >
                    <i class="fas fa-hand-point-up mr-2"></i>Draw My Card
                </button>
                <button
                    id="drawAgainButton"
                    class="mystical-btn font-cinzel px-8 py-4 rounded-lg text-xl hidden hover:glow"
                    aria-label="Draw another card"
                >
                    <i class="fas fa-redo mr-2"></i>Draw Again
                </button>
                <button
                    id="shareButton"
                    class="mystical-btn font-cinzel px-8 py-4 rounded-lg text-xl bg-teal-700 border-teal-400 hidden hover:glow"
                    aria-label="Share your reading"
                >
                    <i class="fas fa-share-alt mr-2"></i>Share Reading
                </button>
            </div>

            <!-- Information Section -->
            <div class="w-full max-w-2xl">
                <div class="bg-purple-900 bg-opacity-50 rounded-xl p-6 mystical-border fade-in">
                    <h3 class="font-cinzel text-2xl mb-4 text-center text-purple-200">
                        <i class="fas fa-book-open mr-2"></i>Interpreting Your Card
                    </h3>
                    <p class="font-playfair text-lg text-purple-100">
                        Tarot cards offer symbolic guidance. Reflect on how this card's meaning relates to your
                        question.
                        Upright cards typically represent energies manifesting clearly, while reversed cards may
                        indicate internal processes or obstacles to overcome.
                    </p>
                </div>
            </div>

            <!-- PDF Button -->
            <div class="w-full max-w-xl flex justify-center mt-8 mb-10">
                <button id="pdfButton" class="pdf-btn">
                    <i class="fas fa-file-pdf mr-2"></i> Download PDF Report
                </button>
            </div>
        </section>
    </div>

    <!-- Footer Navigation -->
    <footer class="footer-nav">
        <div class="footer-container">
            <div class="footer-brand">
                <h2 class="font-cinzel text-2xl mb-4 shimmer-text">Mystic Tarot</h2>
                <p class="text-purple-200 font-playfair">
                    Discover the ancient wisdom of tarot to illuminate your path and guide your journey through life's
                    mysteries.
                </p>
            </div>

            <div class="footer-links">
                <div class="footer-column">
                    <h3 class="footer-title">Information</h3>
                    <a href="#" class="footer-link">About Us</a>
                    <a href="#" class="footer-link">How It Works</a>
                    <a href="#" class="footer-link">Tarot Guide</a>
                    <a href="#" class="footer-link">Testimonials</a>
                </div>

                <div class="footer-column">
                    <h3 class="footer-title">Legal</h3>
                    <a href="#" class="footer-link">Terms & Conditions</a>
                    <a href="#" class="footer-link">Privacy Policy</a>
                    <a href="#" class="footer-link">Disclaimer</a>
                    <a href="#" class="footer-link">Cookie Policy</a>
                </div>

                <div class="footer-column">
                    <h3 class="footer-title">Support</h3>
                    <a href="#" class="footer-link">Contact Us</a>
                    <a href="#" class="footer-link">FAQs</a>
                    <a href="#" class="footer-link">Support Us</a>
                    <a href="#" class="footer-link">Feedback</a>
                </div>

                <div class="footer-column">
                    <h3 class="footer-title">Connect</h3>
                    <a href="#" class="footer-link"><i class="fab fa-facebook mr-2"></i> Facebook</a>
                    <a href="#" class="footer-link"><i class="fab fa-instagram mr-2"></i> Instagram</a>
                    <a href="#" class="footer-link"><i class="fab fa-twitter mr-2"></i> Twitter</a>
                    <a href="#" class="footer-link"><i class="fab fa-pinterest mr-2"></i> Pinterest</a>
                </div>
            </div>
        </div>

        <div class="copyright">
            <p>© 2023 Mystic Tarot Readings • All spiritual guidance is for reflection and personal growth</p>
            <p class="mt-2">tarotcardgenerator.com</p>
        </div>
    </footer>

    <!-- Sound Effect (base64 encoded) -->
    <audio
        id="flipSound"
        src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"
        preload="auto"
    ></audio>

    <!-- External JS -->
    <script src="/scripts/index.js"></script>
</body>
</html>
